%
% SECTION
%
\section{Arm}

Since the release of the Acorn Computers Arm1 in 1985, as a second coprocessor for the BBC Micro, through to powering today's fastest supercomputer, the 7,630,848 core \emph{Fugaku} supercomputer \cite{fujitsu-fugaku}, Arm has steadily grown to become a dominant force in the microprocessor industry, with more than 170+ billion Arm-based microprocessors shipped to date \cite{arm-fugaku}.

Famed for power efficiency, which directly equates to battery life, Arm-based microprocessors dominate the mobile device market for phones and tablets. And market segments which have almost exclusively been based upon x86 microprocessors from Intel or AMD are also increasingly turning to Arm. Microsoft's current flagship laptop, the Surface Pro X, released in October 2019, is based on a Microsoft designed Arm-based microprocessor. And Apple announced in June 2020 a roadmap to transition all Apple devices to Apple designed Arm-based microprocessors within 2 years.

When Acorn engineers designed the Arm1, and subsequently the Arm2 for the Acorn Archimedes personal computer, low power consumptions was not the primary design criteria. Their focus was on simplicity of design. Influenced by research projects \cite{risc} at Stanford University and the University of California, Berkeley, their focus was on producing a RISC (Reduced Instruction Set Computer) design. In comparison to contemporary CISC (Complicated Instruction Set Computer) designs, the simplicity of RISC  required fewer transistors, which directly translated to lower power consumption. The RISC design permitted the Arm2 to outperform the Intel 80286, a contemporary CISC microprocessor, whilst using less power. 


%
% SECTION
%
\section{Raspberry Pi}

The Raspberry Pi Foundation, founded in 2009, is a UK based charity whose aim is to "promote the study of computer science and related topics, especially at school level, and to put the fun back into learning computing". Through it's subsidiary, Raspberry Pi (Trading) Ltd, it provides low-cost, high-performance single-board computers called Raspberry Pi's, and free software.

At the heart of every Raspberry Pi is a Broadcom ``System on a Chip'' (SoC). The SoC integrates Arm microprocessor cores with video, audio and Input/Output (IO). The IO includes USB, Ethernet, and General Purpose IO (GPIO) pins for interfacing with devices such as sensors and motors. The SoC is mounted on small form factor circuit board which hosts the memory chip, and video, audio, and IO connectors. A MicroSD card is used to boot the operating system and for permanent storage.

\begin{figure}
	\centering	
	\includegraphics[width=0.9\textwidth]{images/raspberry-pi-4-model-b.jpeg}
	\caption{\textbf{The Raspberry Pi 4 Model B}.}
\end{figure}

Initially released in 2012 as the Raspberry Pi 1, each subsequent model has seen improvements in SoC microprocessor core count or performance, clock speed, connectivity and available memory.

The Raspberry Pi 1 has a single-core 32-bit ARM1176JZF-S based SoC clocked at 700 MHz and 256 MB of RAM. The RAM was increased to 512 MB in 2016.

The Raspberry Pi 2, released in 2015, introduced a quad-core 32-bit Arm Cortex-A7 based SoC clocked at 900 MHz and 1 GB of RAM.

In 2016, the Raspberry Pi 3 was released with a quad-core 64-bit Arm Cortex-A53 based SoC clocked at 1.2 GHz, together with 1 GB of RAM.

The most recent addition to the range, in 2019, is the Raspberry Pi 4, sporting a quad-core 64-bit Cortex-A-72 based SoC clocked at 1.5 GHz. This model is available with 1, 2, 4 and 8 GB of RAM. This model with 4 GB of RAM was used for this project.

\begin{figure}
	\centering	
	\includegraphics[width=0.9\textwidth]{images/raspberry-pi-zero.jpeg}
	\caption{\textbf{The Raspberry Pi Zero}.}
\end{figure}

Since 2012 the official operating system for all Raspberry Pi models has been Raspbian, a Linux operating system based on Debian. Raspbian has recently been renamed Raspberry Pi OS. To support the aims of the Foundation, a number of educational software packages are bundled with Raspberry Pi OS. These include \emph{Wolfram Mathematica}, and a graphical programming environment aimed at young children called \emph{Scratch}.

Python is the official programming language, due to its popularity and ease of use, and the inclusion of an easy to use Python IDE has been a Foundation priority. This is currently \emph{Thonny}. 

Even though the Raspberry Pi 3 introduced a 64-bit microprocessor, Raspberry Pi OS has remained a 32-bit operating system. However, to complement the introduction of the Raspberry Pi 4 with 8 GB of RAM, a 64-bit version is currently in public beta testing.

Raspberry Pi OS is not the only operating system available for the Raspberry Pi. The Raspberry Pi website provides downloads for Raspberry Pi OS, and also NOOBS (New Out of the Box Software), together with a MicroSD card OS image writing tool called Raspberry Pi Imager. NOOBS and Raspberry Pi Imager make it easy to install operating systems such as Ubuntu, RISC OS (the original Acorn Archimedes OS), Windows 10 IoT Core, and more. Ubuntu 20.04 LTS 64-bit, the operating system used for this project, is available for download from the Ubuntu website, and is also available as an install option within Raspberry Pi Imager.

\begin{figure}
	\centering	
	\includegraphics[width=0.9\textwidth]{images/raspberry-pi-compute-module-3.jpeg}
	\caption{\textbf{The Raspberry Pi Compute Module 3+}.}
\end{figure}

Since the release of the Raspberry Pi 1, the Raspberry Pi has been available in a number of model variants and circuit board formats. The Model B of each release is the most powerful variant, and is intended for desktop use. The Model A is a simpler and cheaper variant intended for embedded projects. The models B+ and A+ designate an improvement to the current release hardware. The Raspberry Pi Zero is a tiny, inexpensive variant without most of the external connectors, designed for low power, possibly battery powered, embedded projects. The Raspberry Pi Compute Module is a stripped down version of the Raspberry Pi without any external connectors. This model is aimed at industrial applications and fits into a standard DDR2 SODIMM connector.


%
% SECTION
%
\section{Aims}


%
% SUB SECTION
%
\subsection{Benchmark Performance}

The main aim of this project is to benchmark the performance of an 8 node Raspberry Pi 4 Model B cluster using standard HPC benchmarks. These benchmarks include High Performance Linpack (HPL), HPC Challenge (HPCC) and High Performance Conjugate Gradients (HPCG).

A pure OpenMPI topology was benchmarked, together with a hybrid OpenMPI/OpenMP topology.


%
% SECTION
%
\subsection{Performance Optimisations}

Having determined a Baseline performance benchmark, opportunities for performance optimisations were investigated for a single core, single node and the whole cluster. Network optimisation was also investigated, and proved to be significant factor in overall cluster performance. 


%
% SECTION
%
\subsection{Investigate Gflops/Watt}

The Green500 List ranks computer systems by energy efficiency, Gflops/Watt. In June 2020, ranking Number 1, the most energy-efficient system was the MN-3 by Preferred Networks in Japan, which achieved a record 21.1 Gigaflops/Watt \cite{green500}. Ranking 200 was Archer at the University of Edinburgh, which achieved 0.497 Gflops/Watt \cite{green500}.

The final aim of this project was to investigate where the Aerin cluster might fare in relation to the Green500 List. 


%
% SECTION
%
\section{Project GitHub Repositories}

The project code and benchmark results are hosted in the following GitHub project repository:

\begin{verbatim}
https://github.com/johnduffymsc/picluster
\end{verbatim}

Detailed instructions for building the Aerin Cluster and running the benchmarks are included in the project repository wiki:

\begin{verbatim}
https://github.com/johnduffymsc/picluster/wiki
\end{verbatim}

This dissertation \LaTeX{} and PDF files, and the Jupyter Notebook used to generate the plots, are hosted in the following GitHub repository:

\begin{verbatim}
https://github.com/johnduffymsc/dissertation
\end{verbatim}
 


